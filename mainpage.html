<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üåø Green Mind - AI Waste Segregation</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Poppins', 'Inter', 'sans-serif'],
          },
          colors: {
            'teal-green': '#009879',
            'soft-green': '#a8e6cf',
            'light-bg': '#f9fafb',
            'dark-text': '#1f2937',
            'accent': '#2dd4bf',
          },
        },
      },
    };
  </script>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      color: #1f2937;
    }

    .glass-card {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.85);
      border: 1px solid rgba(255, 255, 255, 0.4);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
      border-radius: 16px;
      transition: all 0.3s ease-in-out;
    }

    .glass-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0, 128, 128, 0.2);
    }

    .btn-primary {
      background: linear-gradient(90deg, #009879, #00bfa6);
      color: white;
      font-weight: 600;
      transition: all 0.3s ease-in-out;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 150, 136, 0.4);
    }

    .spinner {
      border: 4px solid rgba(0, 0, 0, 0.1);
      border-top: 4px solid #009879;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
  </style>
</head>
<body class="flex flex-col">

  <!-- Navbar -->
  <nav class="glass-card fixed top-0 left-0 w-full px-6 py-4 flex justify-between items-center z-50 bg-white/80">
    <h1 class="text-2xl md:text-3xl font-bold text-teal-green flex items-center">
      üå± Green Mind
    </h1>
    <div class="flex items-center gap-4">
      <div class="hidden md:block text-right">
        <p class="font-semibold text-sm"><%= user.username %></p>
        <p class="text-xs text-gray-500">Credits: <span id="nav-credits"><%= user.credits %></span></p>
      </div>
      <div class="h-10 w-10 rounded-full bg-teal-green flex items-center justify-center text-white font-semibold text-lg shadow-inner">
        <%= user.username.charAt(0).toUpperCase() %>
      </div>
      <a href="/login" class="text-dark-text hover:text-teal-green font-medium hidden md:block">Logout</a>
    </div>
  </nav>

  <!-- Main -->
  <main class="flex-grow pt-24 px-4 md:px-10 space-y-10">

    <!-- Dashboard -->
    <section class="glass-card p-8">
      <h2 class="text-2xl font-bold text-teal-green border-b-2 border-accent pb-2 mb-6">Your Impact Dashboard</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="p-4 bg-white/70 rounded-xl text-center border border-accent/40 shadow-sm">
          <p class="text-4xl font-extrabold text-teal-green"><%= user.credits %></p>
          <p class="text-sm mt-1">Total Green Credits</p>
        </div>
        <div class="p-4 bg-white/70 rounded-xl text-center border border-accent/40 shadow-sm">
          <p class="text-4xl font-extrabold text-accent"><%= user.scans %></p>
          <p class="text-sm mt-1">Scans Completed</p>
        </div>
        <div class="p-4 bg-white/70 rounded-xl text-center border border-accent/40 shadow-sm">
          <p class="text-lg font-semibold">Member Since</p>
          <p class="text-sm mt-1 text-gray-600"><%= user.memberSince %></p>
        </div>
      </div>
    </section>

    <!-- AI Analyzer -->
    <section class="glass-card p-8">
      <h1 class="text-3xl md:text-4xl font-bold text-center text-teal-green mb-2">AI Waste Classifier</h1>
      <p class="text-center text-gray-600 mb-8">Upload a waste image and get instant classification + eco-friendly tips.</p>

      <div class="flex flex-col md:flex-row gap-8 mb-8 items-center justify-center">
        <label for="image-upload" class="w-full md:w-1/2 p-6 border-2 border-dashed border-teal-green/50 rounded-xl text-center cursor-pointer bg-light-bg hover:border-teal-green transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto text-teal-green mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 015 5v2a2 2 0 01-2 2h-6.28a1 1 0 00-.73.326L11 19h-1a1 1 0 01-1-1v-3.586a1 1 0 00-.293-.707l-2-2A1 1 0 007 16z" />
          </svg>
          <p class="font-semibold">Click to upload image</p>
          <input type="file" id="image-upload" accept="image/*" class="hidden" onchange="previewImage(event)">
        </label>

        <div class="md:w-1/2 p-4 bg-white/70 rounded-xl border border-gray-200 flex justify-center items-center min-h-[150px]">
          <img id="image-preview" class="hidden rounded-lg shadow-md max-h-60" />
          <p id="preview-text" class="text-gray-500 text-sm">Your image preview will appear here</p>
        </div>
      </div>

      <div class="text-center mb-6">
        <button id="classify-btn" class="btn-primary px-8 py-3 rounded-lg text-white">Classify Waste</button>
      </div>

      <div id="loading" class="hidden flex flex-col items-center gap-3 p-6 bg-white/70 rounded-lg">
        <div class="spinner"></div>
        <p class="font-semibold text-gray-700">Analyzing... Please wait.</p>
      </div>

      <div id="results" class="hidden mt-6 p-6 bg-white/80 rounded-xl border border-teal-green/40 shadow-inner">
        <h2 class="text-2xl font-bold text-teal-green mb-3">Results</h2>
        <p id="result-classification" class="text-3xl font-extrabold"></p>
        <p id="result-description" class="text-gray-600 italic mt-2"></p>
        <p id="result-action" class="text-lg mt-4 font-semibold text-accent"></p>
        <p id="result-tip" class="text-gray-600 text-sm mt-2"></p>
      </div>
    </section>

    <!-- Tips -->
    <section class="glass-card p-8">
      <h2 class="text-2xl font-bold text-teal-green border-b-2 border-accent pb-2 mb-4">üåç Daily Eco Tips</h2>
      <div id="education-slider" class="flex overflow-x-auto gap-4 snap-x snap-mandatory pb-2"></div>
    </section>
  </main>

  <footer class="text-center text-gray-600 text-sm py-4 mt-8">
    ¬© 2025 Green Mind | Powered by AI for a Cleaner Planet üåé
  </footer>

  <script>
    // JS logic from your original version can remain the same.
    // Only UI was redesigned. You can reuse the existing script section directly.
    // ---------------------------
// üåø Educational Pop-Up System
// ---------------------------

// You can use any environmental facts API. Here‚Äôs a free one for demo:
const EDUCATION_API = "https://api.jsonbin.io/v3/b/66fcb62fad19ca34f87fcf9b"; 
// (You can replace this URL with your own JSON or backend API)

const educationSlider = document.getElementById("education-slider");

// Function to create cards dynamically
function createEducationCard(fact) {
  const card = document.createElement("div");
  card.className =
    "snap-center min-w-[280px] md:min-w-[350px] glass-card p-6 flex flex-col justify-between transition hover:scale-105";
  card.innerHTML = `
    <h3 class="text-lg font-semibold text-teal-green mb-2">üí° ${fact.title}</h3>
    <p class="text-gray-700 text-sm leading-relaxed">${fact.content}</p>
  `;
  return card;
}

// Fetch data from API and populate
async function loadEducationFacts() {
  try {
    const res = await fetch(EDUCATION_API);
    const data = await res.json();

    const facts = data.record || data || [];

    educationSlider.innerHTML = ""; // clear old
    facts.forEach(fact => {
      const card = createEducationCard(fact);
      educationSlider.appendChild(card);
    });

    // Optional auto-scroll effect
    let scrollIndex = 0;
    setInterval(() => {
      if (educationSlider.scrollWidth > educationSlider.clientWidth) {
        scrollIndex += educationSlider.clientWidth * 0.8;
        if (scrollIndex >= educationSlider.scrollWidth) scrollIndex = 0;
        educationSlider.scrollTo({
          left: scrollIndex,
          behavior: "smooth",
        });
      }
    }, 6000);
  } catch (err) {
    console.error("‚ùå Error loading education facts:", err);
    educationSlider.innerHTML =
      '<p class="text-gray-500 text-sm italic">Unable to load eco tips. Please check your connection üåç</p>';
  }
}

loadEducationFacts();


// ---------------------------
// ‚úÖ Keep your existing JS logic below this line
// ---------------------------

// Example placeholders ‚Äî these should remain from your original JS
function previewImage(event) {
  const preview = document.getElementById("image-preview");
  const text = document.getElementById("preview-text");
  preview.src = URL.createObjectURL(event.target.files[0]);
  preview.classList.remove("hidden");
  text.classList.add("hidden");
}

document.getElementById("classify-btn").addEventListener("click", async () => {
  const loading = document.getElementById("loading");
  const results = document.getElementById("results");

  loading.classList.remove("hidden");
  results.classList.add("hidden");

  // Simulate AI waste classification logic
  setTimeout(() => {
    loading.classList.add("hidden");
    results.classList.remove("hidden");

    document.getElementById("result-classification").textContent = "Plastic Waste üß¥";
    document.getElementById("result-description").textContent = "This appears to be recyclable plastic material.";
    document.getElementById("result-action").textContent = "Action: Clean and drop it in the dry waste bin.";
    document.getElementById("result-tip").textContent = "Tip: Avoid single-use plastics whenever possible!";
  }, 2000);
});

  </script>
</body>
</html>
